http://localhost/project/
https://devbanban.com/?p=710


create table tbl_staff
(
	StaffId int not null AUTO_INCREMENT,
	StaffName varchar(255),
	StaffPassword varchar(255),
	StaffTel varchar(255),
	StaffEmail varchar(255),
	DepartId int,
	Primary key (StaffId),
	Foreign key (DepartId) REFERENCES tbl_department(DepartId)
)

create table tbl_department
(
	DepartId int not null AUTO_INCREMENT,
	DepartName varchar(255),
	Primary key (DepartId)
)

create table tbl_dealer
(
	DealerId int not null AUTO_INCREMENT,
	DealerName varchar(255),
	DealerAddress varchar(255),
	Primary key (DeakerId)
)

create table tbl_med
(
	MedId int not null AUTO_INCREMENT,
	MedName varchar(255),
	MedCate varchar(255),
	MedVolumn varchar(255),
	MedUnit varchar(255),
	MedPack varchar(255),
	MedPrice varchar(255),
	MedLow int,
	MedDes varchar(255),
	MedStatus varchar(255),
	MedTotal int,
	MedPath varchar(255),
	Primary key (MedId)
	
)

create table tbl_order
(
	OrderId int not null Auto_Increment,
	OrderDate varchar(255),
	OrderStatus varchar(255),
	OrderPrice int,
	OrderTotal int,
	DealerId int,
	StaffName varchar(255),
	Primary key (OrderId),
	Foreign key (DealerId) REFERENCES tbl_dealer(DealerId)
)

create table tbl_orderdetail
(
	OrderdeId int not null Auto_Increment,
	OrderId int,
	MedId int,
	Qty int,
	Price int,
	Primary key (OrderdeId),
	Foreign key (OrderId) REFERENCES tbl_order(OrderId),
	Foreign key (MedId) REFERENCES tbl_med(MedId)		
)

create table tbl_received
(
	RecId int not null Auto_Increment,
	OrderId  int,
	StaffId	int,
	RecDate varchar(255),
	RecDeli varchar(255),
	Primary key (RecId),
	Foreign key (OrderId) REFERENCES tbl_order(OrderId),	
	Foreign key (StaffId) REFERENCES tbl_staff(StaffId)
)

create table tbl_lot
(
	LotId int not null Auto_Increment,
	MedId int,
	Qty int,
	LotStatus varchar(255),
	Foreign key (MedId) REFERENCES tbl_med(MedId),
	Primary key (LotId)
)



create table tbl_receiveddetail
(
	RecdeId int not null Auto_Increment,
	RecId 	int,
	LotId	int,
	MedId	int,
	Qty	int,
	Mfd	varchar(255),
	Exd	varchar(255),
	Primary key (RecdeId),
	Foreign key (RecId) REFERENCES tbl_received(RecId),
	Foreign key (MedId) REFERENCES tbl_med(MedId),
	Foreign key (LotId) REFERENCES tbl_lot(LotId)	
)


create table tbl_withdraw
(
	WithId int not null Auto_Increment,
	StaffId int,
	Qtysum int,
	WithDate varchar(255),
	Primary key (WithId),
	Foreign key (StaffId) REFERENCES tbl_staff(StaffId)	
)

create table tbl_withdrawdetail
(
	WithdeId int not null Auto_Increment,	
	WithId int,
	MedId int,
	LotId int,
	Qty int,
	Mfd varchar(255),
	Exd varchar(255),
	Primary key (WithdeId),
	Foreign key (WithId) REFERENCES tbl_withdraw(WithId),
	Foreign key (MedId) REFERENCES tbl_med(MedId),
	Foreign key (LotId) REFERENCES tbl_lot(LotId)
)

create table tbl_writeoff
(
	WriteId int not null Auto_Increment,
	LotId int not null,
	MedId int not null,
	StaffId int not null,
	Qty int,
	WriteDate varchar(255),
	Primary key (WriteId),
	Foreign key (LotId) REFERENCES tbl_lot(LotId),
	Foreign key (MedId) REFERENCES tbl_med(MedId),
	Foreign key (StaffId) REFERENCES tbl_staff(StaffId)
) 

create table  tbl_claim
(
	ClaimId int not null Auto_Increment,
	LotId int not null,
	StaffId int not null,
	DealerId int not null,
	MedId int not null,
	Qty int,
	Reason varchar(255),
	ClaimDate varchar(255),
	Primary key(ClaimId),
	Foreign key (LotId) REFERENCES tbl_lot(LotId),
	Foreign key (StaffId) REFERENCES tbl_staff(StaffId),
	Foreign key (DealerId) REFERENCES tbl_dealer(DealerId),
	Foreign key (MedId) REFERENCES tbl_med(MedId)
)



	

